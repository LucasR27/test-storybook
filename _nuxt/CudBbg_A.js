import{b as N,i as X,u as D,v as z}from"./DFDbxR5d.js";function A(e,t={},o){for(const s in e){const r=e[s],n=o?`${o}:${s}`:s;typeof r=="object"&&r!==null?A(r,t,n):typeof r=="function"&&(t[n]=r)}return t}const Q={run:e=>e()},Y=()=>Q,K=typeof console.createTask<"u"?console.createTask:Y;function Z(e,t){const o=t.shift(),s=K(o);return e.reduce((r,n)=>r.then(()=>s.run(()=>n(...t))),Promise.resolve())}function ee(e,t){const o=t.shift(),s=K(o);return Promise.all(e.map(r=>s.run(()=>r(...t))))}function C(e,t){for(const o of[...e])o(t)}class te{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,o,s={}){if(!t||typeof o!="function")return()=>{};const r=t;let n;for(;this._deprecatedHooks[t];)n=this._deprecatedHooks[t],t=n.to;if(n&&!s.allowDeprecated){let i=n.message;i||(i=`${r} hook has been deprecated`+(n.to?`, please use ${n.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(i)||(console.warn(i),this._deprecatedMessages.add(i))}if(!o.name)try{Object.defineProperty(o,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(o),()=>{o&&(this.removeHook(t,o),o=void 0)}}hookOnce(t,o){let s,r=(...n)=>(typeof s=="function"&&s(),s=void 0,r=void 0,o(...n));return s=this.hook(t,r),s}removeHook(t,o){if(this._hooks[t]){const s=this._hooks[t].indexOf(o);s!==-1&&this._hooks[t].splice(s,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,o){this._deprecatedHooks[t]=typeof o=="string"?{to:o}:o;const s=this._hooks[t]||[];delete this._hooks[t];for(const r of s)this.hook(t,r)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const o in t)this.deprecateHook(o,t[o])}addHooks(t){const o=A(t),s=Object.keys(o).map(r=>this.hook(r,o[r]));return()=>{for(const r of s.splice(0,s.length))r()}}removeHooks(t){const o=A(t);for(const s in o)this.removeHook(s,o[s])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...o){return o.unshift(t),this.callHookWith(Z,t,...o)}callHookParallel(t,...o){return o.unshift(t),this.callHookWith(ee,t,...o)}callHookWith(t,o,...s){const r=this._before||this._after?{name:o,args:s,context:{}}:void 0;this._before&&C(this._before,r);const n=t(o in this._hooks?[...this._hooks[o]]:[],s);return n instanceof Promise?n.finally(()=>{this._after&&r&&C(this._after,r)}):(this._after&&r&&C(this._after,r),n)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const o=this._before.indexOf(t);o!==-1&&this._before.splice(o,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const o=this._after.indexOf(t);o!==-1&&this._after.splice(o,1)}}}}function oe(){return new te}const se=new Set(["title","titleTemplate","script","style","noscript"]),T=new Set(["base","meta","link","style","script","noscript"]),ne=new Set(["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),re=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),U=new Set(["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"]),ie=typeof window<"u";function P(e){let t=9;for(let o=0;o<e.length;)t=Math.imul(t^e.charCodeAt(o++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function $(e){if(e._h)return e._h;if(e._d)return P(e._d);let t=`${e.tag}:${e.textContent||e.innerHTML||""}:`;for(const o in e.props)t+=`${o}:${e.props[o]},`;return P(t)}const ae=["name","property","http-equiv"];function V(e){const{props:t,tag:o}=e;if(re.has(o))return o;if(o==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(t.id)return`${o}:id:${t.id}`;for(const s of ae)if(t[s]!==void 0)return`${o}:${s}:${t[s]}`;return!1}function j(e,t){return e==null?t||null:typeof e=="function"?e(t):e}function le(e,t){return e instanceof Promise?e.then(t):t(e)}function S(e,t,o,s){const r=s||B(typeof t=="object"&&typeof t!="function"&&!(t instanceof Promise)?{...t}:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},e==="templateParams"||e==="titleTemplate");if(r instanceof Promise)return r.then(i=>S(e,t,o,i));const n={tag:e,props:r};for(const i of U){const a=n.props[i]!==void 0?n.props[i]:o[i];a!==void 0&&((!(i==="innerHTML"||i==="textContent"||i==="children")||se.has(n.tag))&&(n[i==="children"?"innerHTML":i]=a),delete n.props[i])}return n.props.body&&(n.tagPosition="bodyClose",delete n.props.body),n.tag==="script"&&typeof n.innerHTML=="object"&&(n.innerHTML=JSON.stringify(n.innerHTML),n.props.type=n.props.type||"application/json"),Array.isArray(n.props.content)?n.props.content.map(i=>({...n,props:{...n.props,content:i}})):n}function ce(e,t){var s;const o=e==="class"?" ":";";return typeof t=="object"&&!Array.isArray(t)&&(t=Object.entries(t).filter(([,r])=>r).map(([r,n])=>e==="style"?`${r}:${n}`:r)),(s=String(Array.isArray(t)?t.join(o):t))==null?void 0:s.split(o).filter(r=>!!r.trim()).join(o)}function q(e,t,o,s){for(let r=s;r<o.length;r+=1){const n=o[r];if(n==="class"||n==="style"){e[n]=ce(n,e[n]);continue}if(e[n]instanceof Promise)return e[n].then(i=>(e[n]=i,q(e,t,o,r)));if(!t&&!U.has(n)){const i=String(e[n]),a=n.startsWith("data-");i==="true"||i===""?e[n]=a?"true":!0:e[n]||(a&&i==="false"?e[n]="false":delete e[n])}}}function B(e,t=!1){const o=q(e,t,Object.keys(e),0);return o instanceof Promise?o.then(()=>e):e}const fe=10;function F(e,t,o){for(let s=o;s<t.length;s+=1){const r=t[s];if(r instanceof Promise)return r.then(n=>(t[s]=n,F(e,t,s)));Array.isArray(r)?e.push(...r):e.push(r)}}function de(e){const t=[],o=e.resolvedInput;for(const r in o){if(!Object.prototype.hasOwnProperty.call(o,r))continue;const n=o[r];if(!(n===void 0||!ne.has(r))){if(Array.isArray(n)){for(const i of n)t.push(S(r,i,e));continue}t.push(S(r,n,e))}}if(t.length===0)return[];const s=[];return le(F(s,t,0),()=>s.map((r,n)=>(r._e=e._i,e.mode&&(r._m=e.mode),r._p=(e._i<<fe)+n,r)))}const E={base:-10,title:10},W={critical:-80,high:-10,low:20};function w(e){const t=e.tagPriority;if(typeof t=="number")return t;let o=100;return e.tag==="meta"?e.props["http-equiv"]==="content-security-policy"?o=-30:e.props.charset?o=-20:e.props.name==="viewport"&&(o=-15):e.tag==="link"&&e.props.rel==="preconnect"?o=20:e.tag in E&&(o=E[e.tag]),t&&t in W?o+W[t]:o}const pe=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],I=new Set(["onload","onerror","onabort","onprogress","onloadstart"]),m="%separator";function ue(e,t){var s;let o;if(t==="s"||t==="pageTitle")o=e.pageTitle;else if(t.includes(".")){const r=t.indexOf(".");o=(s=e[t.substring(0,r)])==null?void 0:s[t.substring(r+1)]}else o=e[t];return o!==void 0?(o||"").replace(/"/g,'\\"'):void 0}const he=new RegExp(`${m}(?:\\s*${m})*`,"g");function M(e,t,o){if(typeof e!="string"||!e.includes("%"))return e;let s=e;try{s=decodeURI(e)}catch{}const r=s.match(/%\w+(?:\.\w+)?/g);if(!r)return e;const n=e.includes(m);return e=e.replace(/%\w+(?:\.\w+)?/g,i=>{if(i===m||!r.includes(i))return i;const a=ue(t,i.slice(1));return a!==void 0?a:i}).trim(),n&&(e.endsWith(m)&&(e=e.slice(0,-m.length)),e.startsWith(m)&&(e=e.slice(m.length)),e=e.replace(he,o).trim()),e}async function ge(e,t={}){var y;const o=t.document||e.resolvedOptions.document;if(!o||!e.dirty)return;const s={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",s),!s.shouldRender)return;const r=(await e.resolveTags()).map(l=>({tag:l,id:T.has(l.tag)?$(l):l.tag,shouldRender:!0}));let n=e._dom;if(!n){n={elMap:{htmlAttrs:o.documentElement,bodyAttrs:o.body}};const l=new Set;for(const f of["body","head"]){const p=(y=o[f])==null?void 0:y.children;for(const h of p){const u=h.tagName.toLowerCase();if(!T.has(u))continue;const k={tag:u,props:await B(h.getAttributeNames().reduce((_,H)=>({..._,[H]:h.getAttribute(H)}),{})),innerHTML:h.innerHTML},b=V(k);let g=b,v=1;for(;g&&l.has(g);)g=`${b}:${v++}`;g&&(k._d=g,l.add(g)),n.elMap[h.getAttribute("data-hid")||$(k)]=h}}}n.pendingSideEffects={...n.sideEffects},n.sideEffects={};function i(l,f,p){const h=`${l}:${f}`;n.sideEffects[h]=p,delete n.pendingSideEffects[h]}function a({id:l,$el:f,tag:p}){const h=p.tag.endsWith("Attrs");if(n.elMap[l]=f,h||(p.textContent&&p.textContent!==f.textContent&&(f.textContent=p.textContent),p.innerHTML&&p.innerHTML!==f.innerHTML&&(f.innerHTML=p.innerHTML),i(l,"el",()=>{var u;(u=n.elMap[l])==null||u.remove(),delete n.elMap[l]})),p._eventHandlers)for(const u in p._eventHandlers)Object.prototype.hasOwnProperty.call(p._eventHandlers,u)&&f.getAttribute(`data-${u}`)!==""&&((p.tag==="bodyAttrs"?o.defaultView:f).addEventListener(u.substring(2),p._eventHandlers[u].bind(f)),f.setAttribute(`data-${u}`,""));for(const u in p.props){if(!Object.prototype.hasOwnProperty.call(p.props,u))continue;const k=p.props[u],b=`attr:${u}`;if(u==="class"){if(!k)continue;for(const g of k.split(" "))h&&i(l,`${b}:${g}`,()=>f.classList.remove(g)),!f.classList.contains(g)&&f.classList.add(g)}else if(u==="style"){if(!k)continue;for(const g of k.split(";")){const v=g.indexOf(":"),_=g.substring(0,v).trim(),H=g.substring(v+1).trim();i(l,`${b}:${_}`,()=>{f.style.removeProperty(_)}),f.style.setProperty(_,H)}}else f.getAttribute(u)!==k&&f.setAttribute(u,k===!0?"":String(k)),h&&i(l,b,()=>f.removeAttribute(u))}}const c=[],d={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const l of r){const{tag:f,shouldRender:p,id:h}=l;if(p){if(f.tag==="title"){o.title=f.textContent;continue}l.$el=l.$el||n.elMap[h],l.$el?a(l):T.has(f.tag)&&c.push(l)}}for(const l of c){const f=l.tag.tagPosition||"head";l.$el=o.createElement(l.tag.tag),a(l),d[f]=d[f]||o.createDocumentFragment(),d[f].appendChild(l.$el)}for(const l of r)await e.hooks.callHook("dom:renderTag",l,o,i);d.head&&o.head.appendChild(d.head),d.bodyOpen&&o.body.insertBefore(d.bodyOpen,o.body.firstChild),d.bodyClose&&o.body.appendChild(d.bodyClose);for(const l in n.pendingSideEffects)n.pendingSideEffects[l]();e._dom=n,e.dirty=!1,await e.hooks.callHook("dom:rendered",{renders:r})}function ye(e,t={}){const o=t.delayFn||(s=>setTimeout(s,10));return e._domUpdatePromise=e._domUpdatePromise||new Promise(s=>o(()=>ge(e,t).then(()=>{delete e._domUpdatePromise,s()})))}function ke(e){return t=>{var s,r;const o=((r=(s=t.resolvedOptions.document)==null?void 0:s.head.querySelector('script[id="unhead:payload"]'))==null?void 0:r.innerHTML)||!1;return o&&t.push(JSON.parse(o)),{mode:"client",hooks:{"entries:updated":n=>{ye(n,e)}}}}}const me=new Set(["templateParams","htmlAttrs","bodyAttrs"]),be={hooks:{"tag:normalise":({tag:e})=>{e.props.hid&&(e.key=e.props.hid,delete e.props.hid),e.props.vmid&&(e.key=e.props.vmid,delete e.props.vmid),e.props.key&&(e.key=e.props.key,delete e.props.key);const o=V(e)||(e.key?`${e.tag}:${e.key}`:!1);o&&(e._d=o)},"tags:resolve":e=>{const t=Object.create(null);for(const s of e.tags){const r=(s.key?`${s.tag}:${s.key}`:s._d)||s._p,n=t[r];if(n){let a=s==null?void 0:s.tagDuplicateStrategy;if(!a&&me.has(s.tag)&&(a="merge"),a==="merge"){const c=n.props;c.style&&s.props.style&&(c.style[c.style.length-1]!==";"&&(c.style+=";"),s.props.style=`${c.style} ${s.props.style}`),c.class&&s.props.class?s.props.class=`${c.class} ${s.props.class}`:c.class&&(s.props.class=c.class),t[r].props={...c,...s.props};continue}else if(s._e===n._e){n._duped=n._duped||[],s._d=`${n._d}:${n._duped.length+1}`,n._duped.push(s);continue}else if(w(s)>w(n))continue}if(!(s.innerHTML||s.textContent||Object.keys(s.props).length!==0)&&T.has(s.tag)){delete t[r];continue}t[r]=s}const o=[];for(const s in t){const r=t[s],n=r._duped;o.push(r),n&&(delete r._duped,o.push(...n))}e.tags=o,e.tags=e.tags.filter(s=>!(s.tag==="meta"&&(s.props.name||s.props.property)&&!s.props.content))}}},_e={mode:"server",hooks:{"tags:resolve":e=>{const t={};let o=!1;for(const s of e.tags)s._m!=="server"||s.tag!=="titleTemplate"&&s.tag!=="templateParams"&&s.tag!=="title"||(t[s.tag]=s.tag==="title"||s.tag==="titleTemplate"?s.textContent:s.props,o=!0);o&&e.tags.push({tag:"script",innerHTML:JSON.stringify(t),props:{id:"unhead:payload",type:"application/json"}})}}},ve=new Set(["script","link","bodyAttrs"]),He=e=>({hooks:{"tags:resolve":t=>{for(const o of t.tags){if(!ve.has(o.tag))continue;const s=o.props;for(const r in s){if(r[0]!=="o"||r[1]!=="n"||!Object.prototype.hasOwnProperty.call(s,r))continue;const n=s[r];typeof n=="function"&&(e.ssr&&I.has(r)?s[r]=`this.dataset.${r}fired = true`:delete s[r],o._eventHandlers=o._eventHandlers||{},o._eventHandlers[r]=n)}e.ssr&&o._eventHandlers&&(o.props.src||o.props.href)&&(o.key=o.key||P(o.props.src||o.props.href))}},"dom:renderTag":({$el:t,tag:o})=>{var r,n;const s=t==null?void 0:t.dataset;if(s)for(const i in s){if(!i.endsWith("fired"))continue;const a=i.slice(0,-5);I.has(a)&&((n=(r=o._eventHandlers)==null?void 0:r[a])==null||n.call(t,new Event(a.substring(2))))}}}}),Te=new Set(["link","style","script","noscript"]),Pe={hooks:{"tag:normalise":({tag:e})=>{e.key&&Te.has(e.tag)&&(e.props["data-hid"]=e._h=P(e.key))}}},we={hooks:{"tags:resolve":e=>{var t;for(const o of e.tags)if(typeof o.tagPriority=="string")for(const{prefix:s,offset:r}of pe){if(!o.tagPriority.startsWith(s))continue;const n=o.tagPriority.substring(s.length),i=(t=e.tags.find(a=>a._d===n))==null?void 0:t._p;if(i!==void 0){o._p=i+r;break}}e.tags.sort((o,s)=>{const r=w(o),n=w(s);return r<n?-1:r>n?1:o._p-s._p})}}},Ce={meta:"content",link:"href",htmlAttrs:"lang"},Me=["innerHTML","textContent"],Ae=e=>({hooks:{"tags:resolve":t=>{var i;const{tags:o}=t;let s;for(let a=0;a<o.length;a+=1)o[a].tag==="templateParams"&&(s=t.tags.splice(a,1)[0].props,a-=1);const r=s||{},n=r.separator||"|";delete r.separator,r.pageTitle=M(r.pageTitle||((i=o.find(a=>a.tag==="title"))==null?void 0:i.textContent)||"",r,n);for(const a of o){if(a.processTemplateParams===!1)continue;const c=Ce[a.tag];if(c&&typeof a.props[c]=="string")a.props[c]=M(a.props[c],r,n);else if(a.processTemplateParams||a.tag==="titleTemplate"||a.tag==="title")for(const d of Me)typeof a[d]=="string"&&(a[d]=M(a[d],r,n))}e._templateParams=r,e._separator=n}}}),Se={hooks:{"tags:resolve":e=>{const{tags:t}=e;let o,s;for(let r=0;r<t.length;r+=1){const n=t[r];n.tag==="title"?o=n:n.tag==="titleTemplate"&&(s=n)}if(s&&o){const r=j(s.textContent,o.textContent);r!==null?o.textContent=r||o.textContent:e.tags.splice(e.tags.indexOf(o),1)}else if(s){const r=j(s.textContent);r!==null&&(s.textContent=r,s.tag="title",s=void 0)}s&&e.tags.splice(e.tags.indexOf(s),1)}}},xe={hooks:{"tags:afterResolve":e=>{for(const t of e.tags)typeof t.innerHTML=="string"&&(t.innerHTML&&(t.props.type==="application/ld+json"||t.props.type==="application/json")?t.innerHTML=t.innerHTML.replace(/</g,"\\u003C"):t.innerHTML=t.innerHTML.replace(new RegExp(`</${t.tag}`,"g"),`<\\/${t.tag}`))}}};let G;function Oe(e={}){const t=Le(e);return t.use(ke()),G=t}function R(e,t){return!e||e==="server"&&t||e==="client"&&!t}function Le(e={}){const t=oe();t.addHooks(e.hooks||{}),e.document=e.document||(ie?document:void 0);const o=!e.document,s=()=>{a.dirty=!0,t.callHook("entries:updated",a)};let r=0,n=[];const i=[],a={plugins:i,dirty:!1,resolvedOptions:e,hooks:t,headEntries(){return n},use(c){const d=typeof c=="function"?c(a):c;(!d.key||!i.some(y=>y.key===d.key))&&(i.push(d),R(d.mode,o)&&t.addHooks(d.hooks||{}))},push(c,d){d==null||delete d.head;const y={_i:r++,input:c,...d};return R(y.mode,o)&&(n.push(y),s()),{dispose(){n=n.filter(l=>l._i!==y._i),t.callHook("entries:updated",a),s()},patch(l){for(const f of n)f._i===y._i&&(f.input=y.input=l);s()}}},async resolveTags(){const c={tags:[],entries:[...n]};await t.callHook("entries:resolve",c);for(const d of c.entries){const y=d.resolvedInput||d.input;if(d.resolvedInput=await(d.transform?d.transform(y):y),d.resolvedInput)for(const l of await de(d)){const f={tag:l,entry:d,resolvedOptions:a.resolvedOptions};await t.callHook("tag:normalise",f),c.tags.push(f.tag)}}return await t.callHook("tags:beforeResolve",c),await t.callHook("tags:resolve",c),await t.callHook("tags:afterResolve",c),c.tags},ssr:o};return[be,_e,He,Pe,we,Ae,Se,xe,...(e==null?void 0:e.plugins)||[]].forEach(c=>a.use(c)),a.hooks.callHook("init",a),a}function $e(){return G}const je=z[0]==="3";function Ee(e){return typeof e=="function"?e():D(e)}function x(e){if(e instanceof Promise)return e;const t=Ee(e);if(!e||!t)return t;if(Array.isArray(t))return t.map(o=>x(o));if(typeof t=="object"){const o={};for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(s==="titleTemplate"||s[0]==="o"&&s[1]==="n"){o[s]=D(t[s]);continue}o[s]=x(t[s])}return o}return t}const We={hooks:{"entries:resolve":e=>{for(const t of e.entries)t.resolvedInput=x(t.input)}}},J="usehead";function Ie(e){return{install(o){je&&(o.config.globalProperties.$unhead=e,o.config.globalProperties.$head=e,o.provide(J,e))}}.install}function De(e={}){e.domDelayFn=e.domDelayFn||(o=>N(()=>setTimeout(()=>o(),0)));const t=Oe(e);return t.use(We),t.install=Ie(t),t}const O=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L="__unhead_injection_handler__";function Ke(e){O[L]=e}function Ue(){if(L in O)return O[L]();const e=X(J);return e||$e()}export{De as a,ge as b,oe as c,Ue as i,x as r,Ke as s};
