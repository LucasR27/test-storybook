var pt=s=>{throw TypeError(s)};var Y=(s,t,e)=>t.has(s)||pt("Cannot "+e);var i=(s,t,e)=>(Y(s,t,"read from private field"),e?e.call(s):t.get(s)),v=(s,t,e)=>t.has(s)?pt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),m=(s,t,e,n)=>(Y(s,t,"write to private field"),n?n.call(s,e):t.set(s,e),e),y=(s,t,e)=>(Y(s,t,"access private method"),e);import{c as Qt,a as mt,u as Ut}from"./Z4rYfcpf.js";import{a as Dt,b as $t}from"./CtL52h05.js";import{w as xt}from"./7ul0Ptrt.js";import{O as Lt,i as Vt,c as Pt,s as Mt,f as K,P as At,Q as jt,B as Bt,d as lt,o as F,a as Q,l as f,q as V,u as g,y as bt,t as U,R as yt,L as Nt,M as Wt,F as _t,S as qt,T as zt}from"./DFDbxR5d.js";import{_ as Kt}from"./DlAUqK2U.js";import{S as Zt,r as E,s as tt,a as Z,n as Ht,i as gt,b as vt,t as Gt,f as Jt,c as Xt,d as Ct,e as Yt,g as te,h as ee,j as St,k as Tt,l as se,m as ie,o as It,p as ne,q as oe}from"./BsXgvJ1K.js";import{u as re}from"./DqtGoyIT.js";import"./Cpj98o6Y.js";import"./CudBbg_A.js";import"./BjywHhny.js";import"../sb-preview/runtime.js";var S,r,W,C,D,P,I,q,M,A,$,x,k,j,h,N,et,st,it,nt,ot,rt,at,Et,Ot,ae=(Ot=class extends Zt{constructor(t,e){super();v(this,h);v(this,S);v(this,r);v(this,W);v(this,C);v(this,D);v(this,P);v(this,I);v(this,q);v(this,M);v(this,A);v(this,$);v(this,x);v(this,k);v(this,j,new Set);this.options=e,m(this,S,t),m(this,I,null),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(i(this,r).addObserver(this),Rt(i(this,r),this.options)?y(this,h,N).call(this):this.updateResult(),y(this,h,nt).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ut(i(this,r),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ut(i(this,r),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,y(this,h,ot).call(this),y(this,h,rt).call(this),i(this,r).removeObserver(this)}setOptions(t,e){const n=this.options,l=i(this,r);if(this.options=i(this,S).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof E(this.options.enabled,i(this,r))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");y(this,h,at).call(this),i(this,r).setOptions(this.options),n._defaulted&&!tt(this.options,n)&&i(this,S).getQueryCache().notify({type:"observerOptionsUpdated",query:i(this,r),observer:this});const o=this.hasListeners();o&&wt(i(this,r),l,this.options,n)&&y(this,h,N).call(this),this.updateResult(e),o&&(i(this,r)!==l||E(this.options.enabled,i(this,r))!==E(n.enabled,i(this,r))||Z(this.options.staleTime,i(this,r))!==Z(n.staleTime,i(this,r)))&&y(this,h,et).call(this);const d=y(this,h,st).call(this);o&&(i(this,r)!==l||E(this.options.enabled,i(this,r))!==E(n.enabled,i(this,r))||d!==i(this,k))&&y(this,h,it).call(this,d)}getOptimisticResult(t){const e=i(this,S).getQueryCache().build(i(this,S),t),n=this.createResult(e,t);return le(this,n)&&(m(this,C,n),m(this,P,this.options),m(this,D,i(this,r).state)),n}getCurrentResult(){return i(this,C)}trackResult(t,e){const n={};return Object.keys(t).forEach(l=>{Object.defineProperty(n,l,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(l),e==null||e(l),t[l])})}),n}trackProp(t){i(this,j).add(t)}getCurrentQuery(){return i(this,r)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=i(this,S).defaultQueryOptions(t),n=i(this,S).getQueryCache().build(i(this,S),e);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,e))}fetch(t){return y(this,h,N).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),i(this,C)))}createResult(t,e){var ft;const n=i(this,r),l=this.options,o=i(this,C),d=i(this,D),u=i(this,P),O=t!==n?t.state:i(this,W),{state:T}=t;let c={...T},a=!1,b;if(e._optimisticResults){const w=this.hasListeners(),X=!w&&Rt(t,e),Ft=w&&wt(t,n,e,l);(X||Ft)&&(c={...c,...Xt(T.data,t.options)}),e._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:R,errorUpdatedAt:B,status:_}=c;if(e.select&&c.data!==void 0)if(o&&c.data===(d==null?void 0:d.data)&&e.select===i(this,q))b=i(this,M);else try{m(this,q,e.select),b=e.select(c.data),b=Ct(o==null?void 0:o.data,b,e),m(this,M,b),m(this,I,null)}catch(w){m(this,I,w)}else b=c.data;if(e.placeholderData!==void 0&&b===void 0&&_==="pending"){let w;if(o!=null&&o.isPlaceholderData&&e.placeholderData===(u==null?void 0:u.placeholderData))w=o.data;else if(w=typeof e.placeholderData=="function"?e.placeholderData((ft=i(this,A))==null?void 0:ft.state.data,i(this,A)):e.placeholderData,e.select&&w!==void 0)try{w=e.select(w),m(this,I,null)}catch(X){m(this,I,X)}w!==void 0&&(_="success",b=Ct(o==null?void 0:o.data,w,e),a=!0)}i(this,I)&&(R=i(this,I),b=i(this,M),B=Date.now(),_="error");const L=c.fetchStatus==="fetching",G=_==="pending",J=_==="error",ht=G&&L,dt=b!==void 0;return{status:_,fetchStatus:c.fetchStatus,isPending:G,isSuccess:_==="success",isError:J,isInitialLoading:ht,isLoading:ht,data:b,dataUpdatedAt:c.dataUpdatedAt,error:R,errorUpdatedAt:B,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>O.dataUpdateCount||c.errorUpdateCount>O.errorUpdateCount,isFetching:L,isRefetching:L&&!G,isLoadingError:J&&!dt,isPaused:c.fetchStatus==="paused",isPlaceholderData:a,isRefetchError:J&&dt,isStale:ct(t,e),refetch:this.refetch}}updateResult(t){const e=i(this,C),n=this.createResult(i(this,r),this.options);if(m(this,D,i(this,r).state),m(this,P,this.options),i(this,D).data!==void 0&&m(this,A,i(this,r)),tt(n,e))return;m(this,C,n);const l={},o=()=>{if(!e)return!0;const{notifyOnChangeProps:d}=this.options,u=typeof d=="function"?d():d;if(u==="all"||!u&&!i(this,j).size)return!0;const p=new Set(u??i(this,j));return this.options.throwOnError&&p.add("error"),Object.keys(i(this,C)).some(O=>{const T=O;return i(this,C)[T]!==e[T]&&p.has(T)})};(t==null?void 0:t.listeners)!==!1&&o()&&(l.listeners=!0),y(this,h,Et).call(this,{...l,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&y(this,h,nt).call(this)}},S=new WeakMap,r=new WeakMap,W=new WeakMap,C=new WeakMap,D=new WeakMap,P=new WeakMap,I=new WeakMap,q=new WeakMap,M=new WeakMap,A=new WeakMap,$=new WeakMap,x=new WeakMap,k=new WeakMap,j=new WeakMap,h=new WeakSet,N=function(t){y(this,h,at).call(this);let e=i(this,r).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(Ht)),e},et=function(){y(this,h,ot).call(this);const t=Z(this.options.staleTime,i(this,r));if(gt||i(this,C).isStale||!vt(t))return;const n=Gt(i(this,C).dataUpdatedAt,t)+1;m(this,$,setTimeout(()=>{i(this,C).isStale||this.updateResult()},n))},st=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(i(this,r)):this.options.refetchInterval)??!1},it=function(t){y(this,h,rt).call(this),m(this,k,t),!(gt||E(this.options.enabled,i(this,r))===!1||!vt(i(this,k))||i(this,k)===0)&&m(this,x,setInterval(()=>{(this.options.refetchIntervalInBackground||Jt.isFocused())&&y(this,h,N).call(this)},i(this,k)))},nt=function(){y(this,h,et).call(this),y(this,h,it).call(this,y(this,h,st).call(this))},ot=function(){i(this,$)&&(clearTimeout(i(this,$)),m(this,$,void 0))},rt=function(){i(this,x)&&(clearInterval(i(this,x)),m(this,x,void 0))},at=function(){const t=i(this,S).getQueryCache().build(i(this,S),this.options);if(t===i(this,r))return;const e=i(this,r);m(this,r,t),m(this,W,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},Et=function(t){Yt.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(i(this,C))}),i(this,S).getQueryCache().notify({query:i(this,r),type:"observerResultsUpdated"})})},Ot);function ue(s,t){return E(t.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&t.retryOnMount===!1)}function Rt(s,t){return ue(s,t)||s.state.data!==void 0&&ut(s,t,t.refetchOnMount)}function ut(s,t,e){if(E(t.enabled,s)!==!1){const n=typeof e=="function"?e(s):e;return n==="always"||n!==!1&&ct(s,t)}return!1}function wt(s,t,e,n){return(s!==t||E(n.enabled,s)===!1)&&(!e.suspense||s.state.status!=="error")&&ct(s,e)}function ct(s,t){return E(t.enabled,s)!==!1&&s.isStaleByTime(Z(t.staleTime,s))}function le(s,t){return!tt(s.getCurrentResult(),t)}function ce(s=""){if(!Lt())throw new Error("vue-query hooks can only be used inside setup() function or functions that support injection context.");const t=te(s),e=Vt(t);if(!e)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return e}function he(s,t,e){const n=ce(),l=Pt(()=>{const a=ee(t);typeof a.enabled=="function"&&(a.enabled=a.enabled());const b=n.defaultQueryOptions(a);return b._optimisticResults=n.isRestoring.value?"isRestoring":"optimistic",b}),o=new s(n,l.value),d=Mt(o.getCurrentResult());let u=()=>{};K(n.isRestoring,a=>{a||(u(),u=o.subscribe(b=>{St(d,b)}))},{immediate:!0});const p=()=>{o.setOptions(l.value),St(d,o.getCurrentResult())};K(l,p),At(()=>{u()});const O=(...a)=>(p(),d.refetch(...a)),T=()=>new Promise((a,b)=>{let R=()=>{};const B=()=>{if(l.value.enabled!==!1){o.setOptions(l.value);const _=o.getOptimisticResult(l.value);_.isStale?(R(),o.fetchOptimistic(l.value).then(a,L=>{Tt(l.value.throwOnError,[L,o.getCurrentQuery()])?b(L):a(o.getCurrentResult())})):(R(),a(_))}};B(),R=K(l,B)});K(()=>d.error,a=>{if(d.isError&&!d.isFetching&&Tt(l.value.throwOnError,[a,o.getCurrentQuery()]))throw a});const c=jt(Bt(d));for(const a in d)typeof d[a]=="function"&&(c[a]=d[a]);return c.suspense=T,c.refetch=O,c}function de(s,t){return he(ae,s)}const kt=s=>(Nt("data-v-f684470f"),s=s(),Wt(),s),fe={class:"flex flex-col gap-2"},pe=kt(()=>f("label",{for:"email"},"Email",-1)),me={key:0,id:"email-help"},be={class:"flex flex-col gap-2"},ye=kt(()=>f("label",{for:"password"},"Contrase√±a",-1)),ge={key:0,id:"password-help"},ve=["disabled"],Ce=lt({__name:"TestForm",emits:["submitForm"],setup(s,{emit:t}){const e=Qt({email:mt().required().email(),password:mt().required().min(8)}),{handleSubmit:n,defineField:l,errors:o,meta:d}=Ut({validationSchema:e}),[u]=l("email"),[p]=l("password"),O=t,T=n(c=>{console.log("üöÄ ~ onSubmit ~ values:",c),O("submitForm",c)});return(c,a)=>{const b=Dt;return F(),Q("form",{class:"form",onSubmit:a[2]||(a[2]=xt((...R)=>g(T)&&g(T)(...R),["prevent"]))},[f("div",fe,[pe,V(b,{id:"email",modelValue:g(u),"onUpdate:modelValue":a[0]||(a[0]=R=>bt(u)?u.value=R:null),"aria-describedby":"email-help"},null,8,["modelValue"]),g(o).email?(F(),Q("small",me,U(g(o).email),1)):yt("",!0)]),f("div",be,[ye,V(b,{id:"password",modelValue:g(p),"onUpdate:modelValue":a[1]||(a[1]=R=>bt(p)?p.value=R:null),type:"password","aria-describedby":"password-help"},null,8,["modelValue"]),g(o).password?(F(),Q("small",ge,U(g(o).password),1)):yt("",!0)]),f("button",{type:"submit",disabled:!g(d).valid},"Submit",8,ve)],32)}}}),Se=Kt(Ce,[["__scopeId","data-v-f684470f"]]),Te=se("example",{state:()=>({count:0}),actions:{increment(s){this.count+=s}},getters:{doubleCount:s=>s.count*2}}),Re=lt({__name:"TestPinia",setup(s){const t=Te(),{count:e,doubleCount:n}=ie(t),l=()=>{t.increment(1)};return(o,d)=>(F(),Q(_t,null,[f("div",null,"Contador : "+U(g(e)),1),f("div",null,"Contador doble : "+U(g(n)),1),f("button",{onClick:l},"Incrementar 1")],64))}}),we=()=>{const{$luxon:s}=It();return s.DateTime},H=It(),z=(s="",t="default",e={})=>ne(s,{type:t,autoClose:5e3,pauseOnHover:!0,pauseOnFocusLoss:!1,...e}),Oe=(s={})=>{const{message:t,type:e,options:n}=s;return z(t??H.$i18n.t("notifys.success-default-message"),e??"success",n??{})},_e=(s={})=>{const{message:t,type:e,options:n}=s;return z(t??H.$i18n.t("notifys.error-default-message"),e??"error",n??{})},Ie=(s={})=>{const{message:t,type:e,options:n}=s;return z(t??H.$i18n.t("notifys.warning-default-message"),e??"warning",n??{})},Ee=(s={})=>{const{message:t,type:e,options:n}=s;return z(t??H.$i18n.t("notifys.info-default-message"),e??"info",n??{})};function ke(s,t={}){return $fetch(s,{...t,baseURL:"https://jsonplaceholder.typicode.com"})}async function Fe(s,t={}){try{return await ke(s,t)}catch(e){throw new Error(e.message||"Error desconocido al obtener los datos.")}}const Qe=()=>({async getUsersExample(){return de({queryKey:["users"],queryFn:()=>Fe("/users")})}}),Ue={class:"container space-y-5"},De=f("h3",null,"Test vue-i18n",-1),$e=f("h3",null,"Test Vee-Validate",-1),xe=f("h3",null,"Test Pinia",-1),Le=f("h3",null,"Test theme switch",-1),Ve=f("h3",null,"Test Vue-query",-1),Pe={key:0},Xe=lt({__name:"index",async setup(s){let t,e;const{data:n,isLoading:l}=([t,e]=qt(()=>Qe().getUsersExample()),t=await t,e(),t),o=re(),d=()=>{o.value=o.value==="light"?"dark":"light"};return(u,p)=>{const O=$t,T=Se,c=Re;return F(),Q("div",Ue,[f("p",null,U(u.$luxon.DateTime.fromISO("2022-01-01T00:00:00.000Z").plus({days:66}).toLocaleString()),1),f("p",null,U(("useDateTime"in u?u.useDateTime:g(we))().fromISO("2022-01-01T00:00:00.000Z").plus({days:66}).toLocaleString()),1),f("button",{onClick:p[0]||(p[0]=()=>("useSuccessToast"in u?u.useSuccessToast:g(Oe))({options:{autoClose:1e3}}))},"Click"),f("button",{onClick:p[1]||(p[1]=()=>("useErrorToast"in u?u.useErrorToast:g(_e))({message:"todo mal"}))},"Click"),f("button",{onClick:p[2]||(p[2]=()=>("useWarningToast"in u?u.useWarningToast:g(Ie))())},"Click"),f("button",{onClick:p[3]||(p[3]=()=>("useInfoToast"in u?u.useInfoToast:g(Ee))())},"Click"),f("button",{onClick:p[4]||(p[4]=()=>("useToast"in u?u.useToast:g(z))())},"Click"),f("div",null,[De,f("p",null,U(u.$t("example")),1)]),V(O,{label:"Ir al sandbox",onClick:p[5]||(p[5]=()=>("navigateTo"in u?u.navigateTo:g(oe))("/sandbox"))}),f("div",null,[$e,V(T)]),f("div",null,[xe,V(c)]),f("div",null,[Le,V(O,{label:"Toggle Color Scheme",onClick:p[6]||(p[6]=a=>d())})]),f("div",null,[Ve,g(l)?(F(),Q("p",Pe,"Cargando...")):(F(!0),Q(_t,{key:1},zt(g(n),a=>(F(),Q("p",{key:a.id},U(a.name),1))),128))])])}}});export{Xe as default};
